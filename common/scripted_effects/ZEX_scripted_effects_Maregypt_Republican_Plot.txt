#################################################
# MAREGYPT REPUBLICAN AGITATION RELATED EFFECTS #
#################################################
# start / end
ZEX_activate_republican_agitation = {
	custom_effect_tooltip = ZEX_Activate_Agitation_tt
	hidden_effect = {
		ZEX_MGY_SET_BASE_ALIGNMENTS = yes
		set_country_flag = zex_has_republican_agitation
	}
}

ZEX_deactivate_republican_agitation = {
	custom_effect_tooltip = ZEX_Deactivate_Agitation_tt
	hidden_effect = {
		clr_country_flag = zex_has_republican_agitation
	}
}

# Flow Control
ZEX_MGY_SET_BASE_ALIGNMENTS = {
	set_variable = {
		var = ZEX_MGY_VAR_Sineighi_Alignment
		value = 10
	}
	set_variable = {
		var = ZEX_MGY_VAR_Kaneigh_Alignment
		value = 9
	}
	set_variable = {
		var = ZEX_MGY_VAR_Maneisrata_Alignment
		value = 10
	}
	set_variable = {
		var = ZEX_MGY_VAR_UpperMaregypt_Alignment
		value = 10
	}
	set_variable = {
		var = ZEX_MGY_VAR_Delta_Alignment
		value = 25
	}
	set_variable = {
		var = ZEX_MGY_VAR_Manephis_Alignment
		value = 27
	}
	set_variable = {
		var = ZEX_MGY_VAR_Somnambula_Alignment
		value = 2
	}
	set_variable = {
		var = ZEX_MGY_VAR_Eastdesert_Alignment
		value = 5
	}
	set_variable = {
		var = ZEX_MGY_VAR_Zush_Alignment
		value = 7
	}
	ZEX_MGY_GET_AVERAGE_UNREST = yes
}

ZEX_MGY_GET_AVERAGE_UNREST = {
	set_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = 0
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Sineighi_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Kaneigh_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Maneisrata_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_UpperMaregypt_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Delta_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Manephis_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Somnambula_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Eastdesert_Alignment
	}
	add_to_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = ZEX_MGY_VAR_Zush_Alignment
	}
	divide_variable = {
		var = ZEX_MGY_AVERAGE_UNREST
		value = 9
	}
}

#debug effect
ZEX_MGY_agitation_set_random_variable = {
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Maneisrata_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Delta_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Kaneigh_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Somnambula_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Sineighi_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Zush_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_Eastdesert_Alignment
		max = 100
		integer = yes
	}
	set_variable_to_random = {
		var = ZEX_MGY_VAR_UpperMaregypt_Alignment
		max = 100
		integer = yes
	}
	ZEX_MGY_GET_AVERAGE_UNREST = yes
}