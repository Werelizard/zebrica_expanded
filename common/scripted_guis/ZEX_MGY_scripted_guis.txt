scripted_gui = {
	ZEX_MGY_republican_agitation_ui = {
		context_type = decision_category
		window_name = "ZEX_MGY_republican_agitation_ui_window"

		visible = {
			has_country_flag = zex_has_republican_agitation
		}

		effects = {
			ZEX_MGY_sineighi_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_sineighi
			}
			ZEX_MGY_maneisrata_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_maneisrata
			}
			ZEX_MGY_kaneigh_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_kaneigh
			}
			ZEX_MGY_delta_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_delta
			}
			ZEX_MGY_manephis_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_manephis
			}
			ZEX_MGY_somnambula_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_somnambula
			}
			ZEX_MGY_eastdesert_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_easterndesert
			}
			ZEX_MGY_zush_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_zush
			}
			ZEX_MGY_uppermaregypt_icon_click = {
				ZEX_MGY_unrest_gui_clear_state_selection_flags = yes
				set_country_flag = zex_mgy_unrest_selected_uppermaregypt
			}
		}
		
		triggers = {
			ZEX_MGY_sineighi_icon_click = {
				always = yes
			}
			ZEX_MGY_maneisrata_icon_click = {
				always = yes
			}
			ZEX_MGY_kaneigh_icon_click = {
				always = yes
			}
			ZEX_MGY_delta_icon_click = {
				always = yes
			}
			ZEX_MGY_manephis_icon_click = {
				always = yes
			}
			ZEX_MGY_somnambula_icon_click = {
				always = yes
			}
			ZEX_MGY_eastdesert_icon_click = {
				always = yes
			}
			ZEX_MGY_zush_icon_click = {
				always = yes
			}
			ZEX_MGY_uppermaregypt_icon_click = {
				always = yes
			}
		}

		dynamic_lists = {
			
		}

		properties = {
			ZEX_MGY_sineighi_icon = {
				image = "[ZEX_MGY_GetSineighiAlignment]"
			}
		}
		properties = {
			ZEX_MGY_maneisrata_icon = {
				image = "[ZEX_MGY_GetManeisrataAlignment]"
			}
		}
		properties = {
			ZEX_MGY_kaneigh_icon = {
				image = "[ZEX_MGY_GetKaneighAlignment]"
			}
		}
		properties = {
			ZEX_MGY_delta_icon = {
				image = "[ZEX_MGY_GetDeltaAlignment]"
			}
		}
		properties = {
			ZEX_MGY_manephis_icon = {
				image = "[ZEX_MGY_GetManephisAlignment]"
			}
		}
		properties = {
			ZEX_MGY_somnambula_icon = {
				image = "[ZEX_MGY_GetSomnambulaAlignment]"
			}
		}
		properties = {
			ZEX_MGY_eastdesert_icon = {
				image = "[ZEX_MGY_GetEastdesertAlignment]"
			}
		}
		properties = {
			ZEX_MGY_zush_icon = {
				image = "[ZEX_MGY_GetZushAlignment]"
			}
		}
		properties = {
			ZEX_MGY_uppermaregypt_icon = {
				image = "[ZEX_MGY_GetUpperMaregyptAlignment]"
			}
		}

		properties = {
			ZEX_MGY_republican_agitation_state_icon = {
				image = "[ZEX_MGY_GetFocusedState]"
			}
		}

		visible = {
			
		}

		ai_enabled = {
			always = no
		}

		ai_test_interval = 290
		ai_test_variance = 0.5

		ai_check = {
			
		}

		ai_weights = {
			
		}
	}

	ZEX_MGY_Vizier_Viw_ui = {
		context_type = player_context
		window_name = "ZEX_MGY_Vizier_Viw_ui_window"
		parent_window_token = politics_tab

		ai_check = {
			always = no
		}

		visible = {
			AND = {
				zxe_is_maregypt_or_cosmetic_maregypt = yes #By button - is this active now?
				has_country_flag = zex_mgy_vizier_enabled_flag #General contex - can this country hav the viier?
			}
		}

		triggers = {
			ZEX_MGY_Vizier_Frame_visible = {
				has_country_flag = zex_mgy_vizier_highlight_flag
			}
			ZEX_MGY_Vizier_Button_visible = {
				has_country_flag = zex_mgy_vizier_enabled_flag
			}
			ZEX_MGY_Vizier_name_visible = {
				has_country_flag = zex_mgy_vizier_highlight_flag
			}

			#Per Viziers
			ZEX_MGY_Shaa_Doof_visible = {
				has_idea = ZEX_MGY_Shaa_Doof_idea
				has_country_flag = zex_mgy_vizier_highlight_flag
			}

			ZEX_MGY_No_Vizier_visible = {
				zex_mgy_no_vizier_check = yes
				has_country_flag = zex_mgy_vizier_highlight_flag
			}

			#Highlight
			ZEX_MGY_Vizier_Button_HIGHLIGHT_visible = {
				NOT = {
					has_country_flag = ZEX_MGY_Vizier_Highlight_Hidden
				}
			}
		}

		effects = {
			ZEX_MGY_Vizier_Button_click = {
				if = {
					limit = {
						has_country_flag = zex_mgy_vizier_highlight_flag
					}
					clr_country_flag = zex_mgy_vizier_highlight_flag
				}
				else = {
					set_country_flag = zex_mgy_vizier_highlight_flag
				}
				
				if = {
					limit = {
						NOT = {
							has_country_flag = ZEX_MGY_Vizier_Highlight_Hidden
						}
					}
					set_country_flag = ZEX_MGY_Vizier_Highlight_Hidden
				}
			}
		}
	}

	ZEX_MGY_royal_diet_ui = {
		context_type = decision_category
		window_name = "ZEX_MGY_royal_diet_gui_container"

		dynamic_lists = {
			parliament_main_grid = {
				array = parliament_main_array
				index = parliament_main_index
				change_scope = no
				entry_container = parliament_main_entry
			}
			ZEX_MGY_royal_diet_main_grid = {
				array = parliament_main_array
				index = parliament_main_index
				change_scope = no
				entry_container = ZEX_MGY_royal_diet_main_entry
			}
			ZEX_MGY_royal_diet_member_grid = {
				array = parliament_member_array
				index = parliament_member_index
				change_scope = no
				entry_container = parliament_member_entry
			}
		}

		effects = {
			parliament_modify_button_control_click = {
				set_temp_variable = { temp_member = v }
				set_temp_variable = { ZEX_MGY_royal_diet_temp_seats = 5 }
				ZEX_MGY_Diet_modify_parliament_seat = yes
			}
			parliament_modify_button_shift_click = {
				set_temp_variable = { temp_member = v }
				set_temp_variable = { ZEX_MGY_royal_diet_temp_seats = -5 }
				ZEX_MGY_Diet_modify_parliament_seat = yes
			}
		}

		properties = {
			parliament_main_icon = {
				frame = v
			}
			ZEX_MGY_royal_diet_main_icon = {
				frame = v
				x = parliament_x_array^parliament_main_index
				y = parliament_y_array^parliament_main_index
			}
			parliament_member_icon = {
				frame = v
			}
		}
	}
}