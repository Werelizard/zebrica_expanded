#######################################
# Get unrest states for the provinces #
#######################################

#Sineighi

defined_text = {
	name = ZEX_MGY_GetSineighiAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Sineighi_Alignment > 75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_SINEIGHI
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Sineighi_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Sineighi_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_SINEIGHI
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Sineighi_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Sineighi_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_SINEIGHI
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_SINEIGHI
	}
}

# Maneisrata

defined_text = {
	name = ZEX_MGY_GetManeisrataAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Maneisrata_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_MANEISRATA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Maneisrata_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Maneisrata_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_MANEISRATA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Maneisrata_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Maneisrata_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_MANEISRATA
	}

	text = {
		localization_key = ZEX_MGY_NOUNREST_MANEISRATA
	}
}

# Kaneigh

defined_text = {
	name = ZEX_MGY_GetKaneighAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Kaneigh_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_KANEIGH
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Kaneigh_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Kaneigh_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_KANEIGH
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Kaneigh_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Kaneigh_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_KANEIGH
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_KANEIGH
	}
}

# Delta

defined_text = {
	name = ZEX_MGY_GetDeltaAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Delta_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_DELTA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Delta_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Delta_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_DELTA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Delta_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Delta_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_DELTA
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_DELTA
	}
}

# Manephis

defined_text = {
	name = ZEX_MGY_GetManephisAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Manephis_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_MANEPHIS
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Manephis_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Manephis_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_MANEPHIS
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Manephis_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Manephis_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_MANEPHIS
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_MANEPHIS
	}
}

# Somnambula

defined_text = {
	name = ZEX_MGY_GetSomnambulaAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Somnambula_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_SOMNAMBULA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Somnambula_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Somnambula_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_SOMNAMBULA
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Somnambula_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Somnambula_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_SOMNAMBULA
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_SOMNAMBULA
	}
}

# Desert

defined_text = {
	name = ZEX_MGY_GetEastdesertAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Eastdesert_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_DESERT
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Eastdesert_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Eastdesert_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_DESERT
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Eastdesert_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Eastdesert_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_DESERT
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_DESERT
	}
}

# Zush

defined_text = {
	name = ZEX_MGY_GetZushAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Zush_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_ZUSH
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Zush_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_Zush_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_ZUSH
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_Zush_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_Zush_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_ZUSH
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_ZUSH
	}
}

# Upper Maregypt

defined_text = {
	name = ZEX_MGY_GetUpperMaregyptAlignment
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_UpperMaregypt_Alignment >75
			}
		}
		localization_key = ZEX_MGY_HIGHUNREST_UPPERMAREGYPT
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_UpperMaregypt_Alignment > 50
			}
			check_variable = {
				ZEX_MGY_VAR_UpperMaregypt_Alignment <75
			}
		}
		localization_key = ZEX_MGY_MIDUNREST_UPPERMAREGYPT
	}
	text = {
		trigger = {
			check_variable = {
				ZEX_MGY_VAR_UpperMaregypt_Alignment > 25
			}
			check_variable = {
				ZEX_MGY_VAR_UpperMaregypt_Alignment < 50
			}
		}
		localization_key = ZEX_MGY_LOWUNREST_UPPERMAREGYPT
	}
	text = {
		localization_key = ZEX_MGY_NOUNREST_UPPERMAREGYPT
	}
}

#
#
# Markers for state effects, by state
#
#



#
#
# State Selection Loc
#
#

defined_text = {
	name = ZEX_MGY_GetIsNoStateSelected
	text = {
		trigger = {
			OR = {
				has_country_flag = zex_mgy_unrest_selected_sineighi
				has_country_flag = zex_mgy_unrest_selected_delta
				has_country_flag = zex_mgy_unrest_selected_kaneigh
				has_country_flag = zex_mgy_unrest_selected_maneisrata
				has_country_flag = zex_mgy_unrest_selected_manephis
				has_country_flag = zex_mgy_unrest_selected_somnambula
				has_country_flag = zex_mgy_unrest_selected_easterndesert
				has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				has_country_flag = zex_mgy_unrest_selected_zush
			}
		}
		localization_key = ZEX_MGY_NO_LOCALISATION
	}
	text = {
		localization_key = ZEX_MGY_state_empty
	}
}

defined_text = {
	name = ZEX_MGY_GetFocusedState_Title
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_kaneigh
		}
		localization_key = ZEX_MGY_republican_agitation_state_kaneigh_title
	}
	text = {
		localization_key = ZEX_MGY_NO_LOCALISATION
	}
}

defined_text = {
	name = ZEX_MGY_GetFocusedLore
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_kaneigh
		}
		localization_key = ZEX_MGY_republican_agitation_kaneigh_text
	}
	text = {
		localization_key = ZEX_MGY_NO_LOCALISATION
	}
}

defined_text = {
	name = ZEX_MGY_GetFocusedState
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_kaneigh
		}
		localization_key = ZEX_MGY_kaneigh_cartouche_icon
	}
	text = {
		localization_key = ZEX_MGY_empty_cartouche_icon
	}
}

# For the timer's background
defined_text = {
	name = ZEX_MGY_Get_Unrest_Timer_Progression
	text = {
		trigger = {
			check_variable = { ZEX_MGY_UNREST_DAYS_CURRENT < 0.2 }
		}
		localization_key = ZEX_MGY_Turn_Timer_6
	}
	text = {
		trigger = {
			check_variable = { ZEX_MGY_UNREST_DAYS_CURRENT < 0.4 }
		}
		localization_key = ZEX_MGY_Turn_Timer_5
	}
	text = {
		trigger = {
			check_variable = { ZEX_MGY_UNREST_DAYS_CURRENT < 0.6 }
		}
		localization_key = ZEX_MGY_Turn_Timer_4
	}
	text = {
		trigger = {
			check_variable = { ZEX_MGY_UNREST_DAYS_CURRENT < 0.7 }
		}
		localization_key = ZEX_MGY_Turn_Timer_3
	}
	text = {
		trigger = {
			check_variable = { ZEX_MGY_UNREST_DAYS_CURRENT < 0.9 }
		}
		localization_key = ZEX_MGY_Turn_Timer_2
	}
	text = {
		localization_key = ZEX_MGY_Turn_Timer_1
	}
}

# State buttons texture

defined_text = {
	name = ZEX_MGY_GetIsUnrestPropagandaButtonActive
	text = {
		trigger = {
			OR = {
				has_country_flag = zex_mgy_unrest_selected_sineighi
				has_country_flag = zex_mgy_unrest_selected_delta
				has_country_flag = zex_mgy_unrest_selected_kaneigh
				has_country_flag = zex_mgy_unrest_selected_maneisrata
				has_country_flag = zex_mgy_unrest_selected_manephis
				has_country_flag = zex_mgy_unrest_selected_somnambula
				has_country_flag = zex_mgy_unrest_selected_easterndesert
				has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				has_country_flag = zex_mgy_unrest_selected_zush
			}
		}
		localization_key = ZEX_MGY_Political_Unrest_Propaganda_Button
	}
	text = {
		localization_key = ZEX_MGY_Button_Hidden
	}
}

defined_text = {
	name = ZEX_MGY_GetIsUnrestArrestsButtonActive
	text = {
		trigger = {
			OR = {
				has_country_flag = zex_mgy_unrest_selected_sineighi
				has_country_flag = zex_mgy_unrest_selected_delta
				has_country_flag = zex_mgy_unrest_selected_kaneigh
				has_country_flag = zex_mgy_unrest_selected_maneisrata
				has_country_flag = zex_mgy_unrest_selected_manephis
				has_country_flag = zex_mgy_unrest_selected_somnambula
				has_country_flag = zex_mgy_unrest_selected_easterndesert
				has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				has_country_flag = zex_mgy_unrest_selected_zush
			}
		}
		localization_key = ZEX_MGY_Political_Unrest_Arrest_Button
	}
	text = {
		localization_key = ZEX_MGY_Button_Hidden
	}
}

defined_text = {
	name = ZEX_MGY_GetIsUnrestPoliceButtonActive
	text = {
		trigger = {
			OR = {
				has_country_flag = zex_mgy_unrest_selected_sineighi
				has_country_flag = zex_mgy_unrest_selected_delta
				has_country_flag = zex_mgy_unrest_selected_kaneigh
				has_country_flag = zex_mgy_unrest_selected_maneisrata
				has_country_flag = zex_mgy_unrest_selected_manephis
				has_country_flag = zex_mgy_unrest_selected_somnambula
				has_country_flag = zex_mgy_unrest_selected_easterndesert
				has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				has_country_flag = zex_mgy_unrest_selected_zush
			}
		}
		localization_key = ZEX_MGY_Political_Unrest_Police_Button
	}
	text = {
		localization_key = ZEX_MGY_Button_Hidden
	}
}

defined_text = {
	name = ZEX_MGY_GetIsUnrestButtonBackgroundActive
	text = {
		trigger = {
			OR = {
				has_country_flag = zex_mgy_unrest_selected_sineighi
				has_country_flag = zex_mgy_unrest_selected_delta
				has_country_flag = zex_mgy_unrest_selected_kaneigh
				has_country_flag = zex_mgy_unrest_selected_maneisrata
				has_country_flag = zex_mgy_unrest_selected_manephis
				has_country_flag = zex_mgy_unrest_selected_somnambula
				has_country_flag = zex_mgy_unrest_selected_easterndesert
				has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				has_country_flag = zex_mgy_unrest_selected_zush
			}
		}
		localization_key = ZEX_MGY_Political_Button_Background
	}
	text = {
		localization_key = ZEX_MGY_Button_Hidden
	}
}

# Tooltip for the buttons

# Displays a "yes" or "no" sign for the tooltip if action taken in the state

defined_text = {
	name = ZEX_MGY_GET_ALREADY_TOOK_ACTION_ON_STATE
	text = {
		trigger = {
			if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_sineighi
				}
				zex_mgy_no_action_in_sineighi = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_maneisrata
				}
				zex_mgy_no_action_in_maneisrata = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_delta
				}
				zex_mgy_no_action_in_delta = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_somnambula
				}
				zex_mgy_no_action_in_somnambula = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_easterndesert
				}
				zex_mgy_no_action_in_eastdesert = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_manephis
				}
				zex_mgy_no_action_in_manephis = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_uppermaregypt
				}
				zex_mgy_no_action_in_uppermaregypt = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_zush
				}
				zex_mgy_no_action_in_zush = yes
			}
			else_if = {
				limit = {
					has_country_flag = zex_mgy_unrest_selected_kaneigh
				}
				zex_mgy_no_action_in_kaneigh = yes
			}
		}
		localization_key = ZEX_MGY_Tooltip_Yes_Check
	}
	text = {
		localization_key = ZEX_MGY_Tooltip_No_Check
	}
}

defined_text = {
	name = ZEX_MGY_GET_ALREADY_TOOK_TWO_ACTIONS
	text = {
		trigger = {
			check_variable = {
				var = ZEX_MGY_Actions_Taken
				value = ZEX_MGY_MAX_Actions_Taken
				compare = less_than
			}
		}
		localization_key = ZEX_MGY_Tooltip_Yes_Check
	}
	text = {
		localization_key = ZEX_MGY_Tooltip_No_Check
	}
}

defined_text = {
	name = ZEX_MGY_GET_FOCUSED_STATE_NAME
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_sineighi
		}
		localization_key = zex_mgy_sineighi
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_delta
		}
		localization_key = zex_mgy_delta
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_kaneigh
		}
		localization_key = zex_mgy_kaneigh
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_maneisrata
		}
		localization_key = zex_mgy_maneisrata
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_manephis
		}
		localization_key = zex_mgy_manephis
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_somnambula
		}
		localization_key = zex_mgy_somnambula
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_easterndesert
		}
		localization_key = zex_mgy_easterndesert
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_uppermaregypt
		}
		localization_key = zex_mgy_uppermaregypt
	}
	text = {
		trigger = {
			has_country_flag = zex_mgy_unrest_selected_zush
		}
		localization_key = zex_mgy_zush
	}
}

defined_text = {
	name = ZEX_MGY_GET_HAS_ENOUGH_LEGITIMACY_FOR_BUTTON_CHECK
	text = {
		trigger = {
			check_variable = {
				var = ZEX_MGY_LEGITIMACY
				value = ZEX_MGY_UNREST_LEGITIMACY_COUNTER_COST
				compare = greater_than_or_equals
			}
		}
		localization_key = ZEX_MGY_Tooltip_Yes_Check
	}
	text = {
		localization_key = ZEX_MGY_Tooltip_No_Check
	}
}

defined_text = {
	name = ZEX_MGY_GET_HAS_ENOUGH_POLPOWER_FOR_BUTTON_CHECK
	text = {
		trigger = {
			check_variable = {
				var = political_power
				value = ZEX_MGY_UNREST_POLITICALPOWER_COUNTER_COST
				compare = greater_than_or_equals
			}
		}
		localization_key = ZEX_MGY_Tooltip_Yes_Check
	}
	text = {
		localization_key = ZEX_MGY_Tooltip_No_Check
	}
}
